<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Roku Discovery</title>
</head>
<body>

<div id="response-container">
<h2>SSDP Responses</h2>
<ul id="response-list"></ul>
</div>

<script>
// Function to fetch SSDP response
const fetchSsdpResponse = async () => {
try {
const response = await fetch('http://localhost:3001/discovery', {
method: 'POST',
});

if (response.ok) {
const responseData = await response.text();
// Update UI with the response
displaySsdpResponse(responseData);
} else {
console.error('Error fetching SSDP response:', response.status, response.statusText);
}
} catch (error) {
console.error('Error fetching SSDP response:', error);
}
};

// Function to display SSDP response on the UI
const displaySsdpResponse = (response) => {
const responseList = document.getElementById('response-list');
const responseItem = document.createElement('li');
responseItem.textContent = response;
responseList.appendChild(responseItem);
};

// Fetch SSDP response when the page loads
fetchSsdpResponse();
</script>

</body>
</html>
